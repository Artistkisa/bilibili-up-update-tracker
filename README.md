# Bilibili UP Update Tracker

[![Python](https://img.shields.io/badge/Python-3.8%2B-blue)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

> ğŸ”” è¿½è¸ª Bç«™ UP ä¸»çš„è§†é¢‘æ›´æ–°ï¼Œå½“æœ‰æ–°è§†é¢‘å‘å¸ƒæ—¶æ”¶åˆ°é‚®ä»¶é€šçŸ¥

[English](README.en.md) | ç®€ä½“ä¸­æ–‡

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ“Š **å¤š UP æ›´æ–°è¿½è¸ª** - åŒæ—¶è¿½è¸ªå¤šä¸ª UP ä¸»çš„è§†é¢‘æ›´æ–°
- âš¡ **å¼‚æ­¥è·å–** - ä½¿ç”¨ asyncio å¹¶å‘è·å–ï¼Œé€Ÿåº¦å¿«
- ğŸ”’ **é˜²æ£€æµ‹** - åŸºäº bilibili-api-pythonï¼Œè‡ªåŠ¨å¤„ç†ç­¾åå’Œé£æ§
- ğŸ“§ **é‚®ä»¶æé†’** - å½“è¿½è¸ªçš„ UP ä¸»å‘å¸ƒæ–°è§†é¢‘æ—¶æ”¶åˆ°é‚®ä»¶é€šçŸ¥
- ğŸ³ **æ˜“äºéƒ¨ç½²** - æ”¯æŒ Docker å’Œ cron å®šæ—¶ä»»åŠ¡

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Python 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬
- pip åŒ…ç®¡ç†å™¨

### 2. å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/Artistkisa/bilibili-up-update-tracker.git
cd bilibili-up-update-tracker

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

**ä¾èµ–è¯´æ˜ï¼š**
- `bilibili-api-python` - Bç«™ API åº“
- `aiohttp` - å¼‚æ­¥ HTTP å®¢æˆ·ç«¯

### 3. é…ç½®

æ‰€æœ‰é…ç½®éƒ½åœ¨ `src/config.py` æ–‡ä»¶ä¸­ï¼š

#### 2.1 æ·»åŠ è¦è¿½è¸ªçš„ UP ä¸»

```python
UP_LIST = {
    # æ ¼å¼ï¼šUID: "æ˜¾ç¤ºåå­—"
    # ä» Bç«™ç©ºé—´é¡µé¢ URL è·å– UIDï¼šhttps://space.bilibili.com/{UID}
    
    68559: "22å’Œ33",              # ç¤ºä¾‹ï¼šBç«™å®˜æ–¹è´¦å·
    403748305: "BMLåˆ¶ä½œæŒ‡æŒ¥éƒ¨",     # ç¤ºä¾‹ï¼šBç«™å®˜æ–¹è´¦å·
    
    # åœ¨è¿™é‡Œæ·»åŠ ä½ å…³æ³¨çš„ UP ä¸»ï¼š
    # 12345678: "UPä¸»åå­—",
    # 87654321: "å¦ä¸€ä¸ªUPä¸»",
}
```

**å¦‚ä½•è·å– UIDï¼š**
1. æ‰“å¼€ UP ä¸»çš„ Bç«™ç©ºé—´é¡µé¢
2. æŸ¥çœ‹ URLï¼š`https://space.bilibili.com/12345678`
3. æ•°å­— `12345678` å°±æ˜¯ UID

**æ·»åŠ /åˆ é™¤ UP ä¸»ï¼š**
- **æ·»åŠ **ï¼šåœ¨ `UP_LIST` ä¸­æ·»åŠ ä¸€è¡Œ `UID: "åå­—",`
- **åˆ é™¤**ï¼šåˆ é™¤å¯¹åº”çš„é‚£ä¸€è¡Œ
- **ä¿®æ”¹**ï¼šç›´æ¥ä¿®æ”¹åå­—

#### 2.2 é…ç½®é‚®ä»¶é€šçŸ¥

```python
EMAIL_CONFIG = {
    "smtp_host": "smtp.qq.com",       # SMTP æœåŠ¡å™¨åœ°å€
    "smtp_port": 587,                 # SMTP ç«¯å£ï¼ˆ587 æ˜¯ TLS ç«¯å£ï¼‰
    "smtp_user": "your_email@qq.com", # ä½ çš„é‚®ç®±åœ°å€
    "smtp_pass": "your_auth_code",    # é‚®ç®±æˆæƒç ï¼ˆä¸æ˜¯ç™»å½•å¯†ç ï¼ï¼‰
    "to": ["recipient@example.com"]   # æ¥æ”¶é€šçŸ¥çš„é‚®ç®±ï¼ˆå¯å¡«å¤šä¸ªï¼‰
}
```

**å¸¸ç”¨é‚®ç®± SMTP è®¾ç½®ï¼š**

| é‚®ç®±æœåŠ¡å•† | SMTP æœåŠ¡å™¨ | ç«¯å£ | æˆæƒç è·å–æ–‡æ¡£ |
|------------|-------------|------|----------------|
| QQ é‚®ç®± | smtp.qq.com | 587 | [å®˜æ–¹æ–‡æ¡£](https://service.mail.qq.com/cgi-bin/help?subtype=1&id=28&no=1001256) |
| Gmail | smtp.gmail.com | 587 | [Google æ”¯æŒ](https://support.google.com/accounts/answer/185833) |
| 163 é‚®ç®± | smtp.163.com | 25/465 | [å®˜æ–¹å¸®åŠ©](https://help.mail.163.com/index.do) |
| Outlook | smtp.office365.com | 587 | [Microsoft æ”¯æŒ](https://support.microsoft.com/zh-cn/account-billing/å¦‚ä½•åœ¨-microsoft-å¸æˆ·ä¸­è·å–åº”ç”¨å¯†ç -ff0e6c71-5aa8-4f36-8d6f-19aa9041d2e3) |

**é…ç½®å¤šä¸ªæ¥æ”¶é‚®ç®±ï¼š**
```python
"to": ["email1@qq.com", "email2@gmail.com", "email3@163.com"]
```

### 4. è¿è¡Œ

```bash
cd src
python monitor.py
```

**æ³¨æ„ï¼š**
- é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨å®‰è£…ç¼ºå¤±çš„ä¾èµ–ï¼ˆéœ€è¦ç½‘ç»œè¿æ¥ï¼‰
- é¦–æ¬¡è¿è¡Œåªè®°å½•å½“å‰çŠ¶æ€ï¼Œä¸å‘é€é‚®ä»¶
- åç»­è¿è¡Œä¼šæ£€æŸ¥æ›´æ–°ï¼Œæœ‰æ–°è§†é¢‘æ—¶å‘é€é‚®ä»¶é€šçŸ¥

**æ”¯æŒçš„å¹³å°ï¼š**
- âœ… Linux - å®Œæ•´æ”¯æŒï¼ˆç›´æ¥è¿è¡Œ + cron å®šæ—¶ï¼‰
- âœ… macOS - å®Œæ•´æ”¯æŒï¼ˆç›´æ¥è¿è¡Œ + cron å®šæ—¶ï¼‰  
- âœ… Windows - æ”¯æŒç›´æ¥è¿è¡Œï¼ˆå®šæ—¶ä»»åŠ¡éœ€è‡ªè¡Œé…ç½®ï¼‰

## ğŸ“§ é‚®ä»¶é€šçŸ¥ç¤ºä¾‹

å½“æ£€æµ‹åˆ°æ–°è§†é¢‘æ—¶ï¼Œä½ ä¼šæ”¶åˆ°è¿™æ ·çš„é‚®ä»¶ï¼š

```
ğŸ“º Bç«™ UP ä¸»æ›´æ–°æ±‡æ€»
===================================

ğŸ“… æ£€æŸ¥æ—¶é—´ï¼š2026-02-17 22:18:00
ğŸ“Š æœ¬æ¬¡æ›´æ–°ï¼š2 ä¸ª
ğŸ‘¥ ç›‘æ§ UP ä¸»ï¼š17 ä¸ª

===================================
ğŸ‰ æ–°è§†é¢‘åˆ—è¡¨
===================================

1. ã€22å’Œ33ã€‘
   ğŸ“¹ äººç”Ÿåˆ—è½¦Life Trainã€2026æ‹œå¹´çºªå•å“ã€‘
   ğŸ”— https://www.bilibili.com/video/BV1xxxxx
   ğŸ• å‘å¸ƒæ—¶é—´ï¼š2026-01-28 20:00
   â±ï¸ æ—¶é•¿ï¼š04:32
   ğŸ‘ï¸ æ’­æ”¾é‡ï¼š125ä¸‡

2. ã€é»„éœ„é›²ã€‘
   ğŸ“¹ ã€å­™æ¥ Ã—é»„éœ„é›²ã€‘2026è¾½å®æ˜¥æ™šã€Šä¸‡å®¶ç¯ç«å…±å›¢åœ†ã€‹
   ğŸ”— https://www.bilibili.com/video/BV1yyyyy
   ğŸ• å‘å¸ƒæ—¶é—´ï¼š2026-01-27 19:30
   â±ï¸ æ—¶é•¿ï¼š03:45
   ğŸ‘ï¸ æ’­æ”¾é‡ï¼š89ä¸‡

===================================
ğŸ“‹ ç›‘æ§çš„ UP ä¸»åˆ—è¡¨
===================================

âœ… 22å’Œ33
âœ… BMLåˆ¶ä½œæŒ‡æŒ¥éƒ¨
âœ… é»„éœ„é›²
âœ… ... (å…¶ä»– UP ä¸»)

===================================

ğŸ’¡ æç¤ºï¼š
- æ¯å¤© 10:00 è‡ªåŠ¨æ£€æŸ¥ä¸€æ¬¡
- æœ‰æ›´æ–°æ—¶å‘é€æ±‡æ€»é‚®ä»¶
- ç‚¹å‡»é“¾æ¥å¯ç›´æ¥è§‚çœ‹è§†é¢‘
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
bilibili-up-update-tracker/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ monitor.py          # ä¸»ç›‘æ§è„šæœ¬
â”‚   â””â”€â”€ config.py           # é…ç½®æ–‡ä»¶ï¼ˆUPä¸»åˆ—è¡¨ + é‚®ç®±ï¼‰
â”œâ”€â”€ data/                   # æ•°æ®å­˜å‚¨ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”œâ”€â”€ logs/                   # æ—¥å¿—ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”œâ”€â”€ requirements.txt        # Python ä¾èµ–
â”œâ”€â”€ Dockerfile              # Docker é…ç½®
â”œâ”€â”€ LICENSE                 # MIT åè®®
â””â”€â”€ README.md               # æœ¬æ–‡ä»¶
```

## ğŸ³ Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t bilibili-up-update-tracker .

# è¿è¡Œ
docker run -d \
  -v $(pwd)/data:/app/data \
  -v $(pwd)/src/config.py:/app/src/config.py \
  --name bilibili-tracker \
  bilibili-up-update-tracker
```

## â° è®¾ç½®å®šæ—¶æ£€æŸ¥ï¼ˆCronï¼‰

ä¸ºäº†è®©è„šæœ¬æ¯å¤©è‡ªåŠ¨è¿è¡Œï¼Œéœ€è¦ä½¿ç”¨ Linux/Mac çš„ cron å®šæ—¶ä»»åŠ¡ï¼š

```bash
# 1. ç¼–è¾‘ crontab
crontab -e

# 2. æ·»åŠ ä»¥ä¸‹è¡Œï¼ˆæ¯å¤©ä¸Šåˆ 10:00 è¿è¡Œï¼‰
0 10 * * * cd /path/to/bilibili-up-update-tracker/src && python monitor.py >> ../logs/cron.log 2>&1
```

**å¸¸ç”¨å®šæ—¶è®¾ç½®ï¼š**

| é¢‘ç‡ | Cron è¡¨è¾¾å¼ | è¯´æ˜ |
|------|-------------|------|
| æ¯å¤© 10:00 | `0 10 * * *` | æ¯å¤©ä¸Šåˆ 10 ç‚¹ |
| æ¯å¤© 2 æ¬¡ | `0 10,22 * * *` | ä¸Šåˆ 10 ç‚¹å’Œæ™šä¸Š 10 ç‚¹ |
| æ¯ 6 å°æ—¶ | `0 */6 * * *` | æ¯å¤© 4 æ¬¡ |
| æ¯å°æ—¶ | `0 * * * *` | æ¯å°æ—¶æ•´ç‚¹ |

**Cron è¡¨è¾¾å¼æ ¼å¼ï¼š**
```
* * * * *
â”‚ â”‚ â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ â””â”€â”€ æ˜ŸæœŸ (0-7, 0å’Œ7éƒ½æ˜¯å‘¨æ—¥)
â”‚ â”‚ â”‚ â””â”€â”€â”€â”€ æœˆä»½ (1-12)
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€ æ—¥æœŸ (1-31)
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€ å°æ—¶ (0-23)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ†é’Ÿ (0-59)
```

**æ£€æŸ¥å®šæ—¶ä»»åŠ¡æ˜¯å¦è®¾ç½®æˆåŠŸï¼š**

```bash
# æŸ¥çœ‹å½“å‰ç”¨æˆ·çš„ cron ä»»åŠ¡
crontab -l

# æŸ¥çœ‹ cron æ—¥å¿—ï¼ˆUbuntu/Debianï¼‰
grep CRON /var/log/syslog
```

## â“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ·»åŠ æ–°çš„ UP ä¸»ï¼Ÿ

A: ç¼–è¾‘ `src/config.py`ï¼Œåœ¨ `UP_LIST` ä¸­æ·»åŠ ï¼š
```python
UP_LIST = {
    # åŸæœ‰ UP ä¸»...
    12345678: "æ–°UPä¸»åå­—",  # æ·»åŠ è¿™ä¸€è¡Œ
}
```

### Q: é‚®ä»¶å‘é€å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. SMTP æœåŠ¡å™¨åœ°å€å’Œç«¯å£æ˜¯å¦æ­£ç¡®
2. ä½¿ç”¨çš„æ˜¯ã€Œæˆæƒç ã€è€Œä¸æ˜¯é‚®ç®±å¯†ç ï¼ˆå‚è€ƒä¸Šæ–¹æ–‡æ¡£é“¾æ¥ï¼‰
3. é‚®ç®±æ˜¯å¦å¼€å¯äº† SMTP æœåŠ¡
4. ç½‘ç»œæ˜¯å¦èƒ½è¿æ¥åˆ° SMTP æœåŠ¡å™¨

### Q: å¦‚ä½•ä¿®æ”¹æ£€æŸ¥é¢‘ç‡ï¼Ÿ

A: ä¿®æ”¹ cron è®¾ç½®ï¼ˆå‚è€ƒä¸Šæ–¹ã€Œè®¾ç½®å®šæ—¶æ£€æŸ¥ã€éƒ¨åˆ†ï¼‰ï¼š

```bash
# ç¼–è¾‘ crontab
crontab -e

# æ¯ 6 å°æ—¶æ£€æŸ¥ä¸€æ¬¡
0 */6 * * * cd /path/to/bilibili-up-update-tracker/src && python monitor.py >> ../logs/cron.log 2>&1

# æˆ–è€…æ¯å°æ—¶æ£€æŸ¥ä¸€æ¬¡
0 * * * * cd /path/to/bilibili-up-update-tracker/src && python monitor.py >> ../logs/cron.log 2>&1
```

### Q: å¦‚ä½•æ¸…ç©ºå†å²é‡æ–°è¿½è¸ªï¼Ÿ

A: åˆ é™¤æ•°æ®æ–‡ä»¶ï¼š
```bash
rm data/monitor_data.json
```

## ğŸ“„ å¼€æºåè®®

MIT License
